"use strict";var h=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var A=(e,n)=>{for(var t in n)h(e,t,{get:n[t],enumerable:!0})},g=(e,n,t,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of T(n))!x.call(e,o)&&o!==t&&h(e,o,{get:()=>n[o],enumerable:!(f=y(n,o))||f.enumerable});return e};var C=e=>g(h({},"__esModule",{value:!0}),e);var R={};A(R,{useListener:()=>O});module.exports=C(R);var i=require("react");function O(e,n,t,f={}){let{debounce:o,delay:l,enabled:d=!0,once:s,capture:w,passive:L,targetSelector:v}=f,c=(0,i.useRef)(null),m=(0,i.useRef)(!1),a=(0,i.useCallback)(r=>{if(!(typeof document>"u"||!d)&&!(s&&m.current)){if(m.current=!0,s||(m.current=!1),l){setTimeout(()=>t(r),l);return}if(o){c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>t(r),o);return}t(r)}},[t,o,l,d,s]);return(0,i.useEffect)(()=>{if(typeof window>"u"||typeof document>"u"||!d)return;let r=[],b=e&&"current"in e?e.current:e||window;if(v?document.querySelectorAll(v).forEach(u=>r.push(u)):b&&r.push(b),r.length===0)return;let E=Array.isArray(n)?n:[n];return r.forEach(u=>{E.forEach(p=>{u==null||u.addEventListener(p,a,{capture:w,passive:L,once:s})})}),()=>{r.forEach(u=>{E.forEach(p=>{u==null||u.removeEventListener(p,a)})}),c.current&&clearTimeout(c.current)}},[e,n,a,d,w,L,s,v]),()=>{if(typeof window>"u"||typeof document>"u")return;let r=e&&"current"in e?e.current:e||window;r&&(Array.isArray(n)?n:[n]).forEach(E=>{r.removeEventListener(E,a)})}}
//# sourceMappingURL=index.js.map
