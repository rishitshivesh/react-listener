"use strict";var b=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var T=(e,n)=>{for(var o in n)b(e,o,{get:n[o],enumerable:!0})},y=(e,n,o,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let u of w(n))!A.call(e,u)&&u!==o&&b(e,u,{get:()=>n[u],enumerable:!(c=g(n,u))||c.enumerable});return e};var C=e=>y(b({},"__esModule",{value:!0}),e);var R={};T(R,{useListener:()=>O});module.exports=C(R);var i=require("react");function O(e=window,n,o,c={}){let{debounce:u,delay:l,enabled:s=!0,once:a,capture:h,passive:L,targetSelector:E}=c,d=(0,i.useRef)(null),p=(0,i.useRef)(!1),f=(0,i.useCallback)(t=>{if(s&&!(a&&p.current)){if(p.current=!0,l){setTimeout(()=>o(t),l);return}if(u){d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{o(t)},u);return}o(t)}},[o,u,l,s,a]);return(0,i.useEffect)(()=>{if(!s)return;let t=[];if(E)document.querySelectorAll(E).forEach(r=>t.push(r));else{let r=e&&"current"in e?e.current:e;r&&t.push(r)}if(t.length===0)return;let v=Array.isArray(n)?n:[n];return t.forEach(r=>{v.forEach(m=>{r==null||r.addEventListener(m,f,{capture:h,passive:L,once:a})})}),()=>{t.forEach(r=>{v.forEach(m=>{r==null||r.removeEventListener(m,f)})})}},[e,n,f,s,h,L,a,E]),()=>{let t=e&&"current"in e?e.current:e;t&&(Array.isArray(n)?n:[n]).forEach(r=>{t.removeEventListener(r,f)})}}
//# sourceMappingURL=index.js.map
