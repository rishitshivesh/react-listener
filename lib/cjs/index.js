"use strict";var h=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var A=(e,n)=>{for(var o in n)h(e,o,{get:n[o],enumerable:!0})},g=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of w(n))!x.call(e,s)&&s!==o&&h(e,s,{get:()=>n[s],enumerable:!(a=p(n,s))||a.enumerable});return e};var C=e=>g(h({},"__esModule",{value:!0}),e);var R={};A(R,{useListener:()=>O});module.exports=C(R);var u=require("react");function O(e=window,n,o,a={}){let{debounce:s,delay:l,enabled:f=!0,once:i,capture:L,passive:T,targetSelector:d}=a,c=(0,u.useRef)(null),v=(0,u.useRef)(!1),E=(0,u.useCallback)(t=>{if(f&&!(i&&v.current)){if(v.current=!0,i||(v.current=!1),l){setTimeout(()=>o(t),l);return}if(s){c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>o(t),s);return}o(t)}},[o,s,l,f,i]);return(0,u.useEffect)(()=>{if(!f)return;let t=[];if(d)document.querySelectorAll(d).forEach(r=>t.push(r));else{let r=e&&"current"in e?e.current:e;r&&t.push(r)}if(t.length===0)return;let m=Array.isArray(n)?n:[n];return t.forEach(r=>{m.forEach(b=>{r==null||r.addEventListener(b,E,{capture:L,passive:T,once:i})})}),()=>{t.forEach(r=>{m.forEach(b=>{r==null||r.removeEventListener(b,E)})}),c.current&&clearTimeout(c.current)}},[e,n,E,f,L,T,i,d]),()=>{let t=e&&"current"in e?e.current:e;t&&(Array.isArray(n)?n:[n]).forEach(r=>{t.removeEventListener(r,E)})}}
//# sourceMappingURL=index.js.map
